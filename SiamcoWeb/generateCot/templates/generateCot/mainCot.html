{% extends "generateCot/base_t.html" %}

{% load static %}

{% block scripts %}
<link rel="stylesheet" type="text/css" href="{% static 'generateCot/general/generatorCot/datatables/confTables.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'generateCot/general/css/addons/datatables.min.css' %}">

<!--files to edit text-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/froala_editor.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/froala_style.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/code_view.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/colors.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/emoticons.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/image_manager.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/image.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/line_breaker.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/table.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/char_counter.css' %}">
<link rel="stylesheet" href="{% static 'generateCot/general/generatorCot/datatables/css/video.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.css">



{% endblock %}

{% block content %}

<div class="row">
    <div class="col-6">
        <h4>Lista de Items & Actividades : </h4>
    </div>
    <div class="col-6">
        <h4>Actividades Cotizadas :</h4>
    </div>
</div>

<div class="row">
    <div class="col-6">
        <table id="tableuno" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%"
            style="font-size:12px">
            <thead>
                <tr>
                    {% for col in colsUno %}
                    <th>{{col}}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for acti in listAct %}
                <tr id="acti{{acti.0}}">
                    <td>{{acti.0}}</td>
                    <td id="d{{acti.0}}">{{acti.1}}</td>
                    <td id="u{{acti.0}}">{{acti.2}}</td>
                    <td style="text-align: center;"> <input type="text" size="4" id="v{{acti.0}}" value="{{acti.3}}">
                    </td>
                    <td style="text-align: center;"> <input type="text" size="2" id="c{{acti.0}}"> </td>
                    <td>
                        <button type="button" class="btn" value="{{acti.0}}"><i class="fa fa-plus-circle"
                                style="color: chartreuse;"></i> </button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="col-6">
        <br>
        <hr>
        <div class="col-12 tabledos">

            <table id="tabledos" name="tabledos" class="table table-bordered " cellspacing="0" width="100%"
                style="font-size:12px">
                <thead class="thead-dark">
                    <tr style="text-align: center;">
                        {% for col in colsDos %}
                        <th class="col-">{{col}}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>

    </div>

</div>
<hr>
<div class="row">

    <div class="col">
        <h5>Datos de la Cotización :</h5><br>
        <div class="row">

            <div class="form-row">
                <div class="form-group col">
                    <label for="nClient">Cliente</label>
                    <input type="text" id="nClient" class="form-control" placeholder="Nombre Cliente">
                </div>
                <div class="form-group col">
                    <label for="emClient">Email</label>
                    <input type="text" id="emClient" class="form-control" placeholder="Email Cliente">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col">
                    <label for="nPlace">Establecimiento</label>
                    <input type="text" id="nPlace" class="form-control" placeholder="Nombre del Establecimiento">
                </div>
                <div class="form-group col">
                    <label for="dPlace">Direccion</label>
                    <input type="text" id="dPlace" class="form-control" placeholder="Direccion del Establecimiento">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col">
                    <label for="nProyect">Proyecto</label>
                    <input type="text" id="nProject" class="form-control" placeholder="Nombre Proyecto">
                </div>
                <div class="form-group col">
                    <label for="nPropuesta">Propuesta</label>
                    <input type="text" id="nPropuesta" value="COT-" class="form-control" placeholder="Numero Propuesta">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col">
                    <label for="dProject">Duración de la Obra</label>
                    <input class="form-control" type="text" id="dProject" placeholder="Duración">
                </div>
                <div class="form-group col">
                    <label for="dUnd">Unidad de Tiempo</label>
                    <select id="dUnd" class="form-control">
                        <option>Hora</option>
                        <option>Dia</option>
                        <option selected>Semana</option>
                        <option>Mes</option>
                        <option>Año</option>
                    </select>
                </div>
            </div>
        </div>
        <br>

    </div>


    <div class="col">
        <b>
            <h5 class="row">Total Cotización :</h5>
        </b><br><br>

        <div class="row">
            <h6 class="col" style="font-weight: bold;">Total Mano de Obra + Materiales</h6>
            <h6 class="col" id="tmom" value="">:</h6>
        </div>
        <br>
        <div class="row">
            <h6 class="col">Gastos Administrativos 11%</h6>
            <h6 class="col" id="ta" value="">:</h6>
        </div>
        <br>
        <div class="row">
            <h6 class="col">Imprevistos 5%</h6>
            <h6 class="col" id="ti" value="">:</h6>
        </div>
        <br>
        <div class="row">
            <h6 class="col">Utilidad 5%</h6>
            <h6 class="col" id="tu" value="">:</h6>
        </div>
        <br>
        <div class="row">
            <h6 class="col">IVA Sobre la Utilidad 19%</h6>
            <h6 class="col" id="tiu" value="">:</h6>
        </div>
        <br>
        <div class="row">
            <h6 class="col" style="font-weight: bold;">Total Costo Directo + Costo Indirecto</h6>
            <h6 class="col" id="tdi" value="">:</h6>
        </div>


    </div>

</div>
<hr color="silver">
</div>

<div class="container">

    <div class="row">
        <h2>Descripción de la Obra</h2>
    </div>
    <div class="col-12">
        <div id="editor">
            <div id='editText'>

            </div>
        </div>
    </div>
    <br>
    <div class="row">
        <a class="nav-link active" href="#" data-toggle="modal" data-target="#mModal"><u>Añadir Nota</u></a>
        <!-- Modal -->
        <div data-backdrop=static class="modal fade" id="mModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="mModalLabel">Añade una Nota</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <textarea id="textNote" style="width: 100%; height: 40%;">

                        </textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="button" onclick='$("#mModal").modal("hide")' class="btn btn-primary">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br><br>


    <form action="{% url 'modelCot' %}" method="POST" id="f_generateCot" value="">
        {% csrf_token %}
        <div class="row">
            <input type="button" class="btn btn-warning" id="bGenerate" name="bGenerate" value="Generar"
                urlDestinity="{% url 'genCot' %}">
        </div>

    </form>

    <hr>
 
</div>


{% endblock %}

{% block js %}

<script src="{% static 'generateCot/general/js/addons/datatables.min.js' %}"></script>
<script src="{% static 'generateCot/general/generatorCot/datatables/petAjax.js' %}"></script>
<script src="{% static 'generateCot/general/generatorCot/datatables/confTables.js' %}"></script>
<script src="{% static 'generateCot/general/generatorCot/datatables/controlTables.js' %}"></script>


<!--files to edit text-->

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/codemirror.min.js"></script>
<script type="text/javascript"
    src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.3.0/mode/xml/xml.min.js"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/froala_editor.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/align.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/code_beautifier.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/code_view.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/colors.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/draggable.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/emoticons.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/font_size.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/font_family.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/image.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/image_manager.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/line_breaker.min.js' %}"></script>
<script type="text/javascript" src="{% static 'generateCot/general/generatorCot/datatables/js/link.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/lists.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/paragraph_format.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/paragraph_style.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/table.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/video.min.js' %}"></script>
<script type="text/javascript" src="{% static 'generateCot/general/generatorCot/datatables/js/url.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/entities.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/char_counter.min.js' %}"></script>
<script type="text/javascript"
    src="{% static 'generateCot/general/generatorCot/datatables/js/inline_style.min.js' %}"></script>
<script type="text/javascript" src="{% static 'generateCot/general/generatorCot/datatables/js/save.min.js' %}"></script>


{% endblock %}